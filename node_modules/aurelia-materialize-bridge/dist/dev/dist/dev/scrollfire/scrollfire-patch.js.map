{"version":3,"sources":["scrollfire/scrollfire-patch.js"],"names":[],"mappings":";;;;;;;;;;;;;;iCACa;;;;;kCAGX,yBAAQ;AACN,cAAI,CAAC,gBAAgB,OAAhB,EAAyB;AAC5B,4BAAgB,OAAhB,GAA0B,IAA1B,CAD4B;;AAG5B,mBAAO,WAAP,CAAmB,UAAnB,GAAgC,UAAS,OAAT,EAAkB;AAChD,kBAAI,YAAY,KAAZ,CAD4C;AAEhD,qBAAO,gBAAP,CAAwB,QAAxB,EAAkC,YAAW;AAC3C,4BAAY,IAAZ,CAD2C;eAAX,CAAlC,CAFgD;;AAOhD,0BAAY,YAAW;AACrB,oBAAI,SAAJ,EAAe;AACb,8BAAY,KAAZ,CADa;;AAGb,sBAAI,eAAe,OAAO,WAAP,GAAqB,OAAO,WAAP,CAH3B;AAIb,uBAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,QAAQ,MAAR,EAAgB,GAApC,EAAyC;AAEvC,wBAAI,QAAQ,QAAQ,CAAR,CAAR,CAFmC;AAGvC,wBAAI,WAAW,MAAM,QAAN,CAHwB;AAIvC,wBAAI,SAAS,MAAM,MAAN,CAJ0B;AAKvC,wBAAI,WAAW,MAAM,QAAN,CALwB;;AAOvC,wBAAI,iBAAiB,SAAS,aAAT,CAAuB,QAAvB,CAAjB,CAPmC;AAQvC,wBAAK,mBAAmB,IAAnB,EAAyB;AAC5B,0BAAI,gBAAgB,eAAe,qBAAf,GAAuC,GAAvC,GAA6C,OAAO,WAAP,CADrC;;AAG5B,0BAAI,eAAgB,gBAAgB,MAAhB,EAAyB;AAC3C,4BAAI,MAAM,IAAN,KAAe,IAAf,EAAqB;AACvB,8BAAI,OAAO,QAAP,KAAqB,QAArB,EAA+B;AACjC,gCAAI,eAAe,IAAI,QAAJ,CAAa,QAAb,CAAf,CAD6B;AAEjC,2CAFiC;2BAAnC,MAGO,IAAI,OAAO,QAAP,KAAqB,UAArB,EAAiC;AAC1C,uCAD0C;2BAArC;AAGP,gCAAM,IAAN,GAAa,IAAb,CAPuB;yBAAzB;uBADF;qBAHF;mBARF;iBAJF;eADU,EA8BT,GA9BH,EAPgD;aAAlB,CAHJ;WAA9B;;;eAJS;kBACJ,UAAU","file":"scrollfire/scrollfire-patch.js","sourceRoot":"/source/","sourcesContent":["/* eslint no-new-func:0 */\nexport class ScrollfirePatch {\n  static patched = false;\n\n  patch() {\n    if (!ScrollfirePatch.patched) {\n      ScrollfirePatch.patched = true;\n\n      window.Materialize.scrollFire = function(options) {\n        let didScroll = false;\n        window.addEventListener('scroll', function() {\n          didScroll = true;\n        });\n\n        // Rate limit to 100ms\n        setInterval(function() {\n          if (didScroll) {\n            didScroll = false;\n\n            let windowScroll = window.pageYOffset + window.innerHeight;\n            for (let i = 0; i < options.length; i++) {\n              // Get options from each line\n              let value = options[i];\n              let selector = value.selector;\n              let offset = value.offset;\n              let callback = value.callback;\n\n              let currentElement = document.querySelector(selector);\n              if ( currentElement !== null) {\n                let elementOffset = currentElement.getBoundingClientRect().top + window.pageYOffset;\n\n                if (windowScroll > (elementOffset + offset)) {\n                  if (value.done !== true) {\n                    if (typeof(callback) === 'string') {\n                      let callbackFunc = new Function(callback);\n                      callbackFunc();\n                    } else if (typeof(callback) === 'function') {\n                      callback();\n                    }\n                    value.done = true;\n                  }\n                }\n              }\n            }\n          }\n        }, 100);\n      };\n    }\n  }\n}\n"]}