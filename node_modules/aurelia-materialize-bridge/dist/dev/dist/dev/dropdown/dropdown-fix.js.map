{"version":3,"sources":["dropdown/dropdown-fix.js"],"names":[],"mappings":"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","file":"dropdown/dropdown-fix.js","sourceRoot":"/source/","sourcesContent":["export function applyMaterializeDropdownFix() {\n  $.fn.dropdown = function(options) {\n    let defaults = {\n      inDuration: 300,\n      outDuration: 225,\n      constrain_width: true, // Constrains width of dropdown to the activator\n      hover: false,\n      gutter: 0, // Spacing from edge\n      belowOrigin: false,\n      alignment: 'left',\n      stopPropagation: false\n    };\n\n    // Open dropdown.\n    if (options === 'open') {\n      this.each(function() {\n        $(this).trigger('open');\n      });\n      return false;\n    }\n\n    // Close dropdown.\n    if (options === 'close') {\n      this.each(function() {\n        $(this).trigger('close');\n      });\n      return false;\n    }\n\n    this.each(function() {\n      let origin = $(this);\n      let currentOptions = $.extend({}, defaults, options);\n      let isFocused = false;\n\n      // Dropdown menu\n      let activates = $('#' + origin.attr('data-activates'));\n\n      function updateOptions() {\n        if (origin.data('induration') !== undefined) {\n          currentOptions.inDuration = origin.data('induration');\n        }\n        if (origin.data('outduration') !== undefined) {\n          currentOptions.outDuration = origin.data('outduration');\n        }\n        if (origin.data('constrainwidth') !== undefined) {\n          currentOptions.constrain_width = origin.data('constrainwidth');\n        }\n        if (origin.data('hover') !== undefined) {\n          currentOptions.hover = origin.data('hover');\n        }\n        if (origin.data('gutter') !== undefined) {\n          currentOptions.gutter = origin.data('gutter');\n        }\n        if (origin.data('beloworigin') !== undefined) {\n          currentOptions.belowOrigin = origin.data('beloworigin');\n        }\n        if (origin.data('alignment') !== undefined) {\n          currentOptions.alignment = origin.data('alignment');\n        }\n        if (origin.data('stoppropagation') !== undefined) {\n          currentOptions.stopPropagation = origin.data('stoppropagation');\n        }\n      }\n\n      updateOptions();\n\n      // Attach dropdown to its activator\n      origin.after(activates);\n\n      /*\n        Helper function to position and resize dropdown.\n        Used in hover and click handler.\n      */\n      function placeDropdown(eventType) {\n        // Check for simultaneous focus and click events.\n        if (eventType === 'focus') {\n          isFocused = true;\n        }\n\n        // Check html data attributes\n        updateOptions();\n\n        // Set Dropdown state\n        activates.addClass('active');\n        origin.addClass('active');\n\n        // Constrain width\n        if (currentOptions.constrain_width === true) {\n          activates.css('width', origin.outerWidth());\n        } else {\n          activates.css('white-space', 'nowrap');\n        }\n\n        // Offscreen detection\n        let windowHeight = window.innerHeight;\n        let originHeight = origin.innerHeight();\n        let offsetLeft = origin.offset().left;\n        let offsetTop = origin.offset().top - $(window).scrollTop();\n        let currAlignment = currentOptions.alignment;\n        let gutterSpacing = 0;\n        let leftPosition = 0;\n\n        // Below Origin\n        let verticalOffset = 0;\n        if (currentOptions.belowOrigin === true) {\n          verticalOffset = originHeight;\n        }\n\n        // Check for scrolling positioned container.\n        let scrollYOffset = 0;\n        let scrollXOffset = 0;\n        let wrapper = origin.parent();\n        if (!wrapper.is('body')) {\n          if (wrapper[0].scrollHeight > wrapper[0].clientHeight) {\n            scrollYOffset = wrapper[0].scrollTop;\n          }\n          if (wrapper[0].scrollWidth > wrapper[0].clientWidth) {\n            scrollXOffset = wrapper[0].scrollLeft;\n          }\n        }\n\n\n        if (offsetLeft + activates.innerWidth() > $(window).width()) {\n          // Dropdown goes past screen on right, force right alignment\n          currAlignment = 'right';\n        } else if (offsetLeft - activates.innerWidth() + origin.innerWidth() < 0) {\n          // Dropdown goes past screen on left, force left alignment\n          currAlignment = 'left';\n        }\n        // Vertical bottom offscreen detection\n        if (offsetTop + activates.innerHeight() > windowHeight) {\n          // If going upwards still goes offscreen, just crop height of dropdown.\n          if (offsetTop + originHeight - activates.innerHeight() < 0) {\n            let adjustedHeight = windowHeight - offsetTop - verticalOffset;\n            activates.css('max-height', adjustedHeight);\n          } else {\n            // Flow upwards.\n            if (!verticalOffset) {\n              verticalOffset += originHeight;\n            }\n            verticalOffset -= activates.innerHeight();\n          }\n        }\n\n        // Handle edge alignment\n        if (currAlignment === 'left') {\n          gutterSpacing = currentOptions.gutter;\n          leftPosition = origin.position().left + gutterSpacing;\n        } else if (currAlignment === 'right') {\n          let offsetRight = origin.position().left + origin.outerWidth() - activates.outerWidth();\n          gutterSpacing = -currentOptions.gutter;\n          leftPosition =  offsetRight + gutterSpacing;\n        }\n\n        // Position dropdown\n        activates.css({\n          position: 'absolute',\n          top: origin.position().top + verticalOffset + scrollYOffset,\n          left: leftPosition + scrollXOffset\n        });\n\n\n        // Show dropdown\n        activates.stop(true, true).css('opacity', 0)\n          .slideDown({\n            queue: false,\n            duration: currentOptions.inDuration,\n            easing: 'easeOutCubic',\n            complete: function() {\n              $(this).css('height', '');\n            }\n          })\n          .animate( {opacity: 1}, {queue: false, duration: currentOptions.inDuration, easing: 'easeOutSine'});\n      }\n\n      function hideDropdown() {\n        // Check for simultaneous focus and click events.\n        isFocused = false;\n        activates.fadeOut(currentOptions.outDuration);\n        activates.removeClass('active');\n        origin.removeClass('active');\n        setTimeout(function() { activates.css('max-height', ''); }, currentOptions.outDuration);\n      }\n\n      // Hover\n      if (currentOptions.hover) {\n        let open = false;\n        origin.unbind('click.' + origin.attr('id'));\n        // Hover handler to show dropdown\n        origin.on('mouseenter', function(e) { // Mouse over\n          if (open === false) {\n            placeDropdown();\n            open = true;\n          }\n        });\n        origin.on('mouseleave', function(e) {\n          // If hover on origin then to something other than dropdown content, then close\n          let toEl = e.toElement || e.relatedTarget; // added browser compatibility for target element\n          if(!$(toEl).closest('.dropdown-content').is(activates)) {\n            activates.stop(true, true);\n            hideDropdown();\n            open = false;\n          }\n        });\n\n        activates.on('mouseleave', function(e) { // Mouse out\n          let toEl = e.toElement || e.relatedTarget;\n          if(!$(toEl).closest('.dropdown-button').is(origin)) {\n            activates.stop(true, true);\n            hideDropdown();\n            open = false;\n          }\n        });\n\n        // Click\n      } else {\n        // Click handler to show dropdown\n        origin.unbind('click.' + origin.attr('id'));\n        origin.bind('click.' + origin.attr('id'), function(e) {\n          if (!isFocused) {\n            if ( origin[0] === e.currentTarget &&\n                 !origin.hasClass('active') &&\n                 ($(e.target).closest('.dropdown-content').length === 0)) {\n              e.preventDefault(); // Prevents button click from moving window\n              if (currentOptions.stopPropagation) {\n                e.stopPropagation();\n              }\n              placeDropdown('click');\n            } else if (origin.hasClass('active')) {\n              // If origin is clicked and menu is open, close menu\n              hideDropdown();\n              $(document).unbind('click.' + activates.attr('id') + ' touchstart.' + activates.attr('id'));\n            }\n            // If menu open, add click close handler to document\n            if (activates.hasClass('active')) {\n              $(document).bind('click.' + activates.attr('id') + ' touchstart.' + activates.attr('id'), function(e2) {\n                if (!activates.is(e2.target) && !origin.is(e2.target) && (!origin.find(e2.target).length) ) {\n                  hideDropdown();\n                  $(document).unbind('click.' + activates.attr('id') + ' touchstart.' + activates.attr('id'));\n                }\n              });\n            }\n          }\n        });\n      } // End else\n\n      // Listen to open and close event - useful for select component\n      origin.on('open', function(e, eventType) {\n        placeDropdown(eventType);\n      });\n      origin.on('close', hideDropdown);\n    });\n  }; // End dropdown plugin\n\n  $(document).ready(function() {\n    $('.dropdown-button').dropdown();\n  });\n}\n"]}