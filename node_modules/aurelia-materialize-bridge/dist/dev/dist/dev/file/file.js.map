{"version":3,"sources":["file/file.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAS;AAAU;;AACV;;AACA;;AACA;AAAW;;AACX;;;6BAII,sBAFZ,cAAc,SAAd,WACA,OAAO,OAAP,WAEE,oBACA,SAAS;AACR,4BAAoB,YAAY,OAAZ;OADrB,WAGA,SAAS;AACR,4BAAoB,YAAY,MAAZ;OADrB;AAOD,iBAZW,WAYX,CAAY,OAAZ,EAAqB;gCAZV,aAYU;;;;;;;;eAJrB,QAAQ,GAIa;eAFrB,iBAAiB,MAEI;;AACnB,eAAK,OAAL,GAAe,OAAf,CADmB;AAEnB,eAAK,2BAAL,GAAmC,KAAK,2BAAL,CAAiC,IAAjC,CAAsC,IAAtC,CAAnC,CAFmB;SAArB;;AAZW,8BAiBX,+BAAW;AACT,eAAK,UAAL,GAAkB,6BAA6B,KAAK,UAAL,CAA/C,CADS;AAET,YAAE,KAAK,QAAL,CAAF,CAAiB,EAAjB,CAAoB,QAApB,EAA8B,KAAK,2BAAL,CAA9B,CAFS;;;AAjBA,8BAsBX,+BAAW;AACT,YAAE,KAAK,OAAL,CAAF,CAAgB,GAAhB,CAAoB,QAApB,EAA8B,KAAK,2BAAL,CAA9B,CADS;;;AAtBA,8BA0BX,qEAA8B;AAC5B,cAAI,CAAC,KAAK,cAAL,EAAqB;AACxB,iBAAK,cAAL,GAAsB,IAAtB,CADwB;AAExB,sBAAU,KAAK,QAAL,EAAe,QAAzB,EAAmC,EAAE,OAAO,KAAK,KAAL,EAA5C,EAFwB;AAGxB,iCAAqB,KAAK,QAAL,EAAe,QAApC,EAA8C,EAAE,OAAO,KAAK,KAAL,EAAvD,EAHwB;AAIxB,iBAAK,cAAL,GAAsB,KAAtB,CAJwB;WAA1B;;;eA3BS;;;;iBACa;;;;;iBAGR","file":"file/file.js","sourceRoot":"/source/","sourcesContent":["import { bindable, customElement } from 'aurelia-templating';\nimport { bindingMode } from 'aurelia-binding';\nimport { inject } from 'aurelia-dependency-injection';\nimport { fireEvent, fireMaterializeEvent } from '../common/events';\nimport { getBooleanFromAttributeValue } from '../common/attributes';\n\n@customElement('md-file')\n@inject(Element)\nexport class MdFileInput {\n  @bindable() mdCaption = 'File';\n  @bindable({\n    defaultBindingMode: bindingMode.oneTime\n  }) mdMultiple = false;\n  @bindable({\n    defaultBindingMode: bindingMode.twoWay\n  }) mdLabelValue;\n  files = [];\n\n  _suspendUpdate = false;\n\n  constructor(element) {\n    this.element = element;\n    this.handleChangeFromNativeInput = this.handleChangeFromNativeInput.bind(this);\n  }\n\n  attached() {\n    this.mdMultiple = getBooleanFromAttributeValue(this.mdMultiple);\n    $(this.filePath).on('change', this.handleChangeFromNativeInput);\n  }\n\n  detached() {\n    $(this.element).off('change', this.handleChangeFromNativeInput);\n  }\n\n  handleChangeFromNativeInput() {\n    if (!this._suspendUpdate) {\n      this._suspendUpdate = true;\n      fireEvent(this.filePath, 'change', { files: this.files });\n      fireMaterializeEvent(this.filePath, 'change', { files: this.files });\n      this._suspendUpdate = false;\n    }\n  }\n}\n"]}