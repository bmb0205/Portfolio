{"version":3,"sources":["pagination/pagination.js"],"names":[],"mappings":"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","file":"pagination/pagination.js","sourceRoot":"/source/","sourcesContent":["import { bindable, customElement } from 'aurelia-templating';\nimport { bindingMode } from 'aurelia-binding';\nimport { inject } from 'aurelia-dependency-injection';\nimport { fireMaterializeEvent } from '../common/events';\nimport { getBooleanFromAttributeValue } from '../common/attributes';\n\n\n@customElement('md-pagination')\n@inject(Element)\nexport class MdPagination {\n  @bindable({\n    defaultBindingMode: bindingMode.twoWay\n  }) mdActivePage = 1;\n  @bindable({\n    defaultBindingMode: bindingMode.oneWay\n  }) mdPages = 5;\n  @bindable({\n    defaultBindingMode: bindingMode.oneWay\n  }) mdVisiblePageLinks = 15;\n  @bindable({\n    defaultBindingMode: bindingMode.oneWay\n  }) mdPageLinks = [];\n  @bindable() mdShowFirstLast = true;\n  @bindable() mdShowPrevNext = true;\n  @bindable() mdShowPageLinks = true;\n\n  // local variables to stop Changed events when parsing to int\n  numberOfLinks = 15;\n  pages = 5;\n\n  constructor(element) {\n    this.element = element;\n  }\n\n  bind() {\n    // attached() throws unhandled exceptions\n    this.pages = parseInt(this.mdPages, 10);\n    // We don't want mdVisiblePageLinks to be greater than mdPages\n    this.numberOfLinks = Math.min(parseInt(this.mdVisiblePageLinks, 10), this.pages);\n    this.mdShowFirstLast = getBooleanFromAttributeValue(this.mdShowFirstLast);\n    this.mdShowPrevNext = getBooleanFromAttributeValue(this.mdShowPrevNext);\n    this.mdPageLinks = this.generatePageLinks();\n  }\n\n  setActivePage(page) {\n    this.mdActivePage = parseInt(page, 10);\n    this.mdPageLinks = this.generatePageLinks();\n    fireMaterializeEvent(this.element, 'page-changed', this.mdActivePage);\n  }\n\n  setFirstPage() {\n    if (this.mdActivePage > 1) {\n      this.setActivePage(1);\n    }\n  }\n\n  setLastPage() {\n    if (this.mdActivePage < this.pages) {\n      this.setActivePage(this.pages);\n    }\n  }\n\n  setPreviousPage() {\n    if (this.mdActivePage > 1) {\n      this.setActivePage(this.mdActivePage - 1);\n    }\n  }\n\n  setNextPage() {\n    if (this.mdActivePage < this.pages) {\n      this.setActivePage(this.mdActivePage + 1);\n    }\n  }\n\n  mdPagesChanged() {\n    this.pages = parseInt(this.mdPages, 10);\n    this.numberOfLinks = Math.min(parseInt(this.mdVisiblePageLinks, 10), this.pages);\n    this.setActivePage(1);\n  }\n\n  mdVisiblePageLinksChanged() {\n    this.numberOfLinks = Math.min(parseInt(this.mdVisiblePageLinks, 10), this.pages);\n    this.mdPageLinks = this.generatePageLinks();\n  }\n\n  generatePageLinks() {\n    let midPoint = parseInt((this.numberOfLinks / 2), 10);\n    let start = Math.max(this.mdActivePage - midPoint, 0);\n    // respect visible links\n    if (start + midPoint * 2 > this.pages) start = this.pages - midPoint * 2;\n    let end = Math.min(start + this.numberOfLinks, this.pages);\n\n    let list = [];\n    for (let i = start; i < end; i++) {\n      list.push(i);\n    }\n\n    return list;\n  }\n}\n"]}